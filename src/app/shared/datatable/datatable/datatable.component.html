<div id="container-datatable">
  <div style=" width:100%;display:flex">
    <div style="width:50%">
      <i class="fas fa-filter"></i>
    </div>
    <div style="width:50%; display:flex">
      <app-input-generic style="width:80%" type="text" (emitKey)="search($event)" [label]="'Buscar'" [showLabel]="false"></app-input-generic>
      <app-button-generic [nameButton]="nameButtonNewData" style="width:20%;margin-left:1rem;"></app-button-generic>
    </div>
  </div><br>
  <ngx-datatable #myTable id="datatable" class="material expandable" [limit]="5" [columns]="columns" [headerHeight]="50"
    [rowHeight]="50" [rows]="rows" (page)="onPage($event)" [scrollbarV]="true">
    <!-- Row Detail Template -->
    <ngx-datatable-row-detail [rowHeight]="100" #myDetailRow (toggle)="onDetailToggle($event)">

      <!-- Expand -->
      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
        <div style="padding-left:35px; display:flex; margin-top:1%;" *ngFor="let expand of row.expand">
          <div><strong>{{ expand.name }}:</strong></div>
          <div style="padding-left:1%;"> {{ expand.value }}</div>
        </div>
      </ng-template>
    </ngx-datatable-row-detail>

    <!-- Column Templates -->
    <ngx-datatable-column [width]="50" [resizeable]="false" [sortable]="false" [draggable]="true"
      [canAutoResize]="false">

      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
        <a *ngIf="row.expand" href="javascript:void(0)" [class.datatable-icon-right]="!expanded"
          [class.datatable-icon-down]="expanded" title="Expand/Collapse Row" (click)="toggleExpandRow(row)">
        </a>
      </ng-template>
    </ngx-datatable-column>

    <!-- 
    <ngx-datatable-column name="Index" [width]="200">
      <ng-template  let-rowIndex="rowIndex" let-row="row" ngx-datatable-cell-template>
        <strong>{{ rowIndex }}</strong>
      </ng-template>
    </ngx-datatable-column> -->

    <ng-container *ngFor="let column of columns; let i = index">
      <ngx-datatable-column [name]="column.name" [width]="300">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{ value }}
        </ng-template>
      </ngx-datatable-column>
    </ng-container>

    <ngx-datatable-column name="Actions" [width]="200">
      <ng-template let-rowIndex="rowIndex" let-row="row" ngx-datatable-cell-template>
        <i (click)="actions()" class="fas fa-bars"></i>
        <!-- <div style="border:1px solid red;z-index:1 !important;background:black;">
        <ul>
          <li>
            action 1
          </li>
          <li>
            action 2
          </li>
        </ul>
      </div> -->
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
  <div style="display:flex; position:relative;top:-50px;height:50px;padding:15px;background:#E0DFDF">
    <div  style="width:20%;text-align:left">
      <ng-container>
        <span>
          <i class="fas fa-eye"></i> {{_elementsVisibles}} de   {{totalCount}} registros
        </span>
      </ng-container>
    </div>

    <div style="width:80%;text-align:right">
      <i class="fas fa-chevron-circle-left" (click)="firstPage()"></i>
      <i  style="padding-left:10px; padding-right:10px; " class="fas fa-angle-left" (click)="backPage()"></i>
      <ng-container *ngFor="let page of arrayParcialPages; let i = index">
        <span style="cursor:pointer; margin-left:0.8%;font-size:15px" [ngClass]="{'active-page': page.active }"  (click)="changePage(page.page)">
           <strong>{{page.page}}</strong> <ng-container *ngIf="this.arrayTotalPages.slice(-1)[0]"> ,</ng-container>
        </span>
      </ng-container> <span *ngIf="this._numberPage  != arrayTotalPages.length ">...</span>
      <i style="padding-right:10px; padding-left:10px; " class="fas fa-angle-right" (click)="nextPage()"></i>
      <i class="fas fa-chevron-circle-right"  (click)="lastPage()"></i>
      <input type="number" style="width:6%;margin-left:1%" (change)="this.customChangePage()" [(ngModel)]="customPage">
    </div>
  </div>

</div>